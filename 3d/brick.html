<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Схема раскладки кирпичей</title>
</head>
<body>
  <script type="importmap">
    {
	"imports": {
	    "three":
	    "http://buildr/~reshu/three.js/build/three.module.min.js",
	    "three/addons/":
	    "http://buildr/~reshu/three.js/examples/jsm/"
	}
    }
  </script>
  <script type="module">
    import * as THREE from 'three';
    import { OrbitControls } from 'three/addons/controls/OrbitControls.js';

let scene = new THREE.Scene()
let camera = new THREE.PerspectiveCamera( 75, window.innerWidth / window.innerHeight, 0.1, 10000 )

let renderer = new THREE.WebGLRenderer()
renderer.setSize( window.innerWidth * 0.9, window.innerHeight * 0.9 )
renderer.setClearColor( 0xffffff, 1 )
document.body.appendChild( renderer.domElement )
renderer.shadowMap.enabled = true
scene.add(new THREE.AmbientLight(0xffffff, 0.6))
let point_light = new THREE.PointLight(0xffffff, 0.5)
point_light.position.set( -500, 700, 300 )
point_light.castShadow = true
point_light.shadow.camera.far = 5000
scene.add(point_light)

let mark_material_red = new THREE.MeshStandardMaterial({ color: 0xff0000 })
let mark_material_yellow = new THREE.MeshStandardMaterial({ color: 0xffff00 })
class Brick extends THREE.BufferGeometry {
    constructor() {
	super()
	this.type = 'Brick'
	this.setAttribute('position', new THREE.BufferAttribute(
	    new Float32Array([
		0,0,0, 250,65,0, 250,0,0,
		0,0,0, 0,65,0, 250,65,0,
		0,0,125, 250,0,125, 250,65,125,
		0,0,125, 250,65,125, 0,65,125,
		0,0,0, 250,0,0, 250,0,125,
		0,0,0, 250,0,125, 0,0,125,
		0,65,0, 250,65,125, 250,65,0,
		0,65,0, 0,65,125, 250,65,125,
		0,0,0, 0,65,125, 0,65,0,
		0,0,0, 0,0,125, 0,65,125,
		250,0,0, 250,65,0, 250,65,125,
		250,0,0, 250,65,125, 250,0,125,
	    ]), 3))
	this.computeVertexNormals()
    }
}
let b01_y01_111 = new THREE.Mesh(new Brick(), mark_material_yellow)
scene.add(b01_y01_111)
let b02_y02_112 = new THREE.Mesh(new Brick(), mark_material_yellow)
b02_y02_112.position.x = 252;
scene.add(b02_y02_112)

camera.position.set(-100, 600, 600)
let controls = new OrbitControls( camera, renderer.domElement )
scene.add( new THREE.CameraHelper( point_light.shadow.camera ) )
scene.add( new THREE.AxesHelper( 500 ) )
function animate() {
    requestAnimationFrame( animate )
    renderer.render( scene, camera )
}
animate()
  </script>
</body>
</html>
